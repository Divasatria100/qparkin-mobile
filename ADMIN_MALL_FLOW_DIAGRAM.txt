# Admin Mall Registration â†’ Mobile App: Complete Flow Diagram

================================================================================
                    ADMIN MALL REGISTRATION FLOW
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         STEP 1: USER REGISTRATION                           â”‚
â”‚                                                                             â”‚
â”‚  User fills form:                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ â€¢ Name: "John Doe"                                           â”‚          â”‚
â”‚  â”‚ â€¢ Email: "john@example.com"                                  â”‚          â”‚
â”‚  â”‚ â€¢ Password: "********"                                       â”‚          â”‚
â”‚  â”‚ â€¢ Mall Name: "Mega Mall Batam"                               â”‚          â”‚
â”‚  â”‚ â€¢ Location: "Jl. Engku Putri no.1"                           â”‚          â”‚
â”‚  â”‚ â€¢ Latitude: 1.1191                                           â”‚          â”‚
â”‚  â”‚ â€¢ Longitude: 104.0538                                        â”‚          â”‚
â”‚  â”‚ â€¢ Photo: [upload]                                            â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â”‚  Form submits to:                                                           â”‚
â”‚  POST /register â†’ AdminMallRegistrationController::store()                 â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      STEP 2: DATA SAVED TO DATABASE                         â”‚
â”‚                                                                             â”‚
â”‚  Table: user                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ id_user: 123                                                 â”‚          â”‚
â”‚  â”‚ name: "John Doe"                                             â”‚          â”‚
â”‚  â”‚ email: "john@example.com"                                    â”‚          â”‚
â”‚  â”‚ password: [hashed]                                           â”‚          â”‚
â”‚  â”‚ role: "customer"                    â† Default until approved â”‚          â”‚
â”‚  â”‚ status: "inactive"                  â† Inactive until approvedâ”‚          â”‚
â”‚  â”‚ application_status: "pending"       â† KEY FIELD              â”‚          â”‚
â”‚  â”‚ requested_mall_name: "Mega Mall Batam"                       â”‚          â”‚
â”‚  â”‚ requested_mall_location: "Jl. Engku Putri no.1"              â”‚          â”‚
â”‚  â”‚ requested_mall_latitude: 1.1191     â† CRITICAL               â”‚          â”‚
â”‚  â”‚ requested_mall_longitude: 104.0538  â† CRITICAL               â”‚          â”‚
â”‚  â”‚ requested_mall_photo: "storage/mall_photos/xyz.jpg"          â”‚          â”‚
â”‚  â”‚ applied_at: "2026-01-08 10:00:00"                            â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   STEP 3: SUPER ADMIN VIEWS PENGAJUAN                       â”‚
â”‚                                                                             â”‚
â”‚  Super Admin accesses:                                                      â”‚
â”‚  GET /superadmin/pengajuan â†’ SuperAdminController::pengajuan()             â”‚
â”‚                                                                             â”‚
â”‚  Query:                                                                     â”‚
â”‚  User::where('application_status', 'pending')->get()                       â”‚
â”‚                                                                             â”‚
â”‚  Display in table:                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Name         â”‚ Email              â”‚ Mall Name        â”‚ Status â”‚          â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”‚
â”‚  â”‚ John Doe     â”‚ john@example.com   â”‚ Mega Mall Batam  â”‚ Pendingâ”‚          â”‚
â”‚  â”‚              â”‚                    â”‚ Lat: 1.1191      â”‚ [Approve]â”‚        â”‚
â”‚  â”‚              â”‚                    â”‚ Lng: 104.0538    â”‚ [Reject] â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      STEP 4: SUPER ADMIN APPROVES                           â”‚
â”‚                                                                             â”‚
â”‚  Super Admin clicks [Approve]                                               â”‚
â”‚  POST /superadmin/pengajuan/123/approve                                     â”‚
â”‚  â†’ SuperAdminController::approvePengajuan(123)                              â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ DB::beginTransaction()                                      â”‚           â”‚
â”‚  â”‚                                                             â”‚           â”‚
â”‚  â”‚ 1. Generate Google Maps URL:                               â”‚           â”‚
â”‚  â”‚    $url = Mall::generateGoogleMapsUrl(1.1191, 104.0538)    â”‚           â”‚
â”‚  â”‚    â†’ "https://www.google.com/maps/dir/?api=1&              â”‚           â”‚
â”‚  â”‚       destination=1.1191,104.0538"                          â”‚           â”‚
â”‚  â”‚                                                             â”‚           â”‚
â”‚  â”‚ 2. Create Mall:                                            â”‚           â”‚
â”‚  â”‚    Mall::create([                                          â”‚           â”‚
â”‚  â”‚      'nama_mall' => 'Mega Mall Batam',                     â”‚           â”‚
â”‚  â”‚      'lokasi' => 'Jl. Engku Putri no.1',                   â”‚           â”‚
â”‚  â”‚      'latitude' => 1.1191,          â† FROM USER            â”‚           â”‚
â”‚  â”‚      'longitude' => 104.0538,       â† FROM USER            â”‚           â”‚
â”‚  â”‚      'google_maps_url' => $url,     â† GENERATED            â”‚           â”‚
â”‚  â”‚      'status' => 'active',          â† CRITICAL             â”‚           â”‚
â”‚  â”‚      'kapasitas' => 100,                                   â”‚           â”‚
â”‚  â”‚    ])                                                      â”‚           â”‚
â”‚  â”‚    â†’ Mall ID: 456                                          â”‚           â”‚
â”‚  â”‚                                                             â”‚           â”‚
â”‚  â”‚ 3. Update User:                                            â”‚           â”‚
â”‚  â”‚    User::find(123)->update([                               â”‚           â”‚
â”‚  â”‚      'role' => 'admin_mall',        â† UPGRADE ROLE         â”‚           â”‚
â”‚  â”‚      'status' => 'active',          â† ACTIVATE             â”‚           â”‚
â”‚  â”‚      'application_status' => 'approved',                   â”‚           â”‚
â”‚  â”‚      'reviewed_at' => now(),                               â”‚           â”‚
â”‚  â”‚      'reviewed_by' => Auth::id(),                          â”‚           â”‚
â”‚  â”‚    ])                                                      â”‚           â”‚
â”‚  â”‚                                                             â”‚           â”‚
â”‚  â”‚ 4. Link Admin to Mall:                                     â”‚           â”‚
â”‚  â”‚    AdminMall::create([                                     â”‚           â”‚
â”‚  â”‚      'id_user' => 123,                                     â”‚           â”‚
â”‚  â”‚      'id_mall' => 456,                                     â”‚           â”‚
â”‚  â”‚      'hak_akses' => 'full',                                â”‚           â”‚
â”‚  â”‚    ])                                                      â”‚           â”‚
â”‚  â”‚                                                             â”‚           â”‚
â”‚  â”‚ DB::commit()                                               â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STEP 5: MALL NOW IN DATABASE (ACTIVE)                    â”‚
â”‚                                                                             â”‚
â”‚  Table: mall                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ id_mall: 456                                                 â”‚          â”‚
â”‚  â”‚ nama_mall: "Mega Mall Batam"                                 â”‚          â”‚
â”‚  â”‚ lokasi: "Jl. Engku Putri no.1"                               â”‚          â”‚
â”‚  â”‚ latitude: 1.1191                    â† FOR MAP MARKER         â”‚          â”‚
â”‚  â”‚ longitude: 104.0538                 â† FOR MAP MARKER         â”‚          â”‚
â”‚  â”‚ google_maps_url: "https://..."      â† FOR NAVIGATION         â”‚          â”‚
â”‚  â”‚ status: "active"                    â† CRITICAL               â”‚          â”‚
â”‚  â”‚ kapasitas: 100                                               â”‚          â”‚
â”‚  â”‚ has_slot_reservation_enabled: false                          â”‚          â”‚
â”‚  â”‚ created_at: "2026-01-08 10:05:00"                            â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â”‚  Table: admin_mall                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ id_user: 123                        â† LINK TO USER           â”‚          â”‚
â”‚  â”‚ id_mall: 456                        â† LINK TO MALL           â”‚          â”‚
â”‚  â”‚ hak_akses: "full"                                            â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        STEP 6: API ENDPOINT READY                           â”‚
â”‚                                                                             â”‚
â”‚  Mobile app calls:                                                          â”‚
â”‚  GET /api/mall â†’ MallController::index()                                   â”‚
â”‚                                                                             â”‚
â”‚  Query:                                                                     â”‚
â”‚  Mall::where('status', 'active')                                           â”‚
â”‚      ->select(['id_mall', 'nama_mall', 'lokasi',                           â”‚
â”‚                'latitude', 'longitude', 'google_maps_url',                 â”‚
â”‚                'status', 'kapasitas'])                                      â”‚
â”‚      ->get()                                                                â”‚
â”‚                                                                             â”‚
â”‚  Response:                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ {                                                            â”‚          â”‚
â”‚  â”‚   "success": true,                                           â”‚          â”‚
â”‚  â”‚   "message": "Malls retrieved successfully",                 â”‚          â”‚
â”‚  â”‚   "data": [                                                  â”‚          â”‚
â”‚  â”‚     {                                                        â”‚          â”‚
â”‚  â”‚       "id_mall": 456,                                        â”‚          â”‚
â”‚  â”‚       "nama_mall": "Mega Mall Batam",                        â”‚          â”‚
â”‚  â”‚       "lokasi": "Jl. Engku Putri no.1",                      â”‚          â”‚
â”‚  â”‚       "latitude": 1.1191,           â† FOR MARKER             â”‚          â”‚
â”‚  â”‚       "longitude": 104.0538,        â† FOR MARKER             â”‚          â”‚
â”‚  â”‚       "google_maps_url": "https://www.google.com/maps/...",  â”‚          â”‚
â”‚  â”‚       "status": "active",                                    â”‚          â”‚
â”‚  â”‚       "kapasitas": 100,                                      â”‚          â”‚
â”‚  â”‚       "available_slots": 45                                  â”‚          â”‚
â”‚  â”‚     }                                                        â”‚          â”‚
â”‚  â”‚   ]                                                          â”‚          â”‚
â”‚  â”‚ }                                                            â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STEP 7: MOBILE APP FETCHES DATA                          â”‚
â”‚                                                                             â”‚
â”‚  MapProvider.loadMalls() called:                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ 1. MallService.fetchMalls()                                  â”‚          â”‚
â”‚  â”‚    â†’ HTTP GET http://192.168.1.100:8000/api/mall             â”‚          â”‚
â”‚  â”‚                                                              â”‚          â”‚
â”‚  â”‚ 2. Parse JSON response                                       â”‚          â”‚
â”‚  â”‚    â†’ List<MallModel>                                         â”‚          â”‚
â”‚  â”‚                                                              â”‚          â”‚
â”‚  â”‚ 3. Validate data                                             â”‚          â”‚
â”‚  â”‚    â†’ mall.validate() checks coordinates                      â”‚          â”‚
â”‚  â”‚                                                              â”‚          â”‚
â”‚  â”‚ 4. Store in provider                                         â”‚          â”‚
â”‚  â”‚    â†’ _malls = [MallModel(...)]                               â”‚          â”‚
â”‚  â”‚                                                              â”‚          â”‚
â”‚  â”‚ 5. Notify listeners                                          â”‚          â”‚
â”‚  â”‚    â†’ UI rebuilds with new data                               â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â”‚  MallModel created:                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ id: "456"                                                    â”‚          â”‚
â”‚  â”‚ name: "Mega Mall Batam"                                      â”‚          â”‚
â”‚  â”‚ address: "Jl. Engku Putri no.1"                              â”‚          â”‚
â”‚  â”‚ latitude: 1.1191                                             â”‚          â”‚
â”‚  â”‚ longitude: 104.0538                                          â”‚          â”‚
â”‚  â”‚ googleMapsUrl: "https://www.google.com/maps/..."             â”‚          â”‚
â”‚  â”‚ availableSlots: 45                                           â”‚          â”‚
â”‚  â”‚ hasSlotReservationEnabled: false                             â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     STEP 8: MAP DISPLAYS MARKERS                            â”‚
â”‚                                                                             â”‚
â”‚  map_page.dart builds UI:                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚                                                              â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚          â”‚
â”‚  â”‚  â”‚         ğŸ—ºï¸  OSM Map View                          â”‚     â”‚          â”‚
â”‚  â”‚  â”‚                                                    â”‚     â”‚          â”‚
â”‚  â”‚  â”‚                                                    â”‚     â”‚          â”‚
â”‚  â”‚  â”‚              ğŸ“ Mega Mall Batam                    â”‚     â”‚          â”‚
â”‚  â”‚  â”‚           (1.1191, 104.0538)                       â”‚     â”‚          â”‚
â”‚  â”‚  â”‚                                                    â”‚     â”‚          â”‚
â”‚  â”‚  â”‚                                                    â”‚     â”‚          â”‚
â”‚  â”‚  â”‚                                                    â”‚     â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚          â”‚
â”‚  â”‚                                                              â”‚          â”‚
â”‚  â”‚  Mall List:                                                  â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚          â”‚
â”‚  â”‚  â”‚ ğŸ“ Mega Mall Batam                                 â”‚     â”‚          â”‚
â”‚  â”‚  â”‚    Jl. Engku Putri no.1                            â”‚     â”‚          â”‚
â”‚  â”‚  â”‚    45 slot tersedia                                â”‚     â”‚          â”‚
â”‚  â”‚  â”‚    [Lihat Rute] â† NEW BUTTON                       â”‚     â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚          â”‚
â”‚  â”‚                                                              â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   STEP 9: USER TAPS "LIHAT RUTE"                            â”‚
â”‚                                                                             â”‚
â”‚  User taps button:                                                          â”‚
â”‚  onPressed: () => _openGoogleMapsNavigation(mall)                          â”‚
â”‚                                                                             â”‚
â”‚  Method executes:                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ 1. Get google_maps_url from mall                             â”‚          â”‚
â”‚  â”‚    â†’ "https://www.google.com/maps/dir/?api=1&                â”‚          â”‚
â”‚  â”‚       destination=1.1191,104.0538"                            â”‚          â”‚
â”‚  â”‚                                                              â”‚          â”‚
â”‚  â”‚ 2. Parse URL                                                 â”‚          â”‚
â”‚  â”‚    â†’ Uri.parse(url)                                          â”‚          â”‚
â”‚  â”‚                                                              â”‚          â”‚
â”‚  â”‚ 3. Launch external app                                       â”‚          â”‚
â”‚  â”‚    â†’ launchUrl(url, mode: LaunchMode.externalApplication)    â”‚          â”‚
â”‚  â”‚                                                              â”‚          â”‚
â”‚  â”‚ 4. Google Maps opens                                         â”‚          â”‚
â”‚  â”‚    â†’ Shows route from current location to mall               â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STEP 10: GOOGLE MAPS NAVIGATION                          â”‚
â”‚                                                                             â”‚
â”‚  Google Maps app opens:                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚                                                              â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚          â”‚
â”‚  â”‚  â”‚         ğŸ—ºï¸  Google Maps                           â”‚     â”‚          â”‚
â”‚  â”‚  â”‚                                                    â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  ğŸ“ Your Location                                  â”‚     â”‚          â”‚
â”‚  â”‚  â”‚   â”‚                                                â”‚     â”‚          â”‚
â”‚  â”‚  â”‚   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º     â”‚     â”‚          â”‚
â”‚  â”‚  â”‚   â”‚                                           â”‚    â”‚     â”‚          â”‚
â”‚  â”‚  â”‚   â”‚                                           â”‚    â”‚     â”‚          â”‚
â”‚  â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚     â”‚          â”‚
â”‚  â”‚  â”‚                                                    â”‚     â”‚          â”‚
â”‚  â”‚  â”‚                    ğŸ“ Mega Mall Batam              â”‚     â”‚          â”‚
â”‚  â”‚  â”‚                 (1.1191, 104.0538)                 â”‚     â”‚          â”‚
â”‚  â”‚  â”‚                                                    â”‚     â”‚          â”‚
â”‚  â”‚  â”‚  [Start Navigation]                                â”‚     â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚          â”‚
â”‚  â”‚                                                              â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â”‚  Features:                                                                  â”‚
â”‚  âœ… Turn-by-turn navigation                                                 â”‚
â”‚  âœ… Real-time traffic                                                       â”‚
â”‚  âœ… ETA calculation                                                         â”‚
â”‚  âœ… Alternative routes                                                      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

================================================================================
                              FLOW COMPLETE âœ…
================================================================================

KEY POINTS:
-----------
1. âœ… Koordinat (latitude, longitude) disimpan saat registrasi
2. âœ… Mall dibuat dengan status='active' saat approve
3. âœ… google_maps_url di-generate otomatis
4. âœ… API hanya return mall dengan status='active'
5. âœ… Mobile app fetch dari API (bukan dummy data)
6. âœ… Markers ditampilkan di koordinat yang benar
7. âœ… Navigasi delegasi ke Google Maps (no internal routing)
8. âœ… User mendapat turn-by-turn navigation dari Google Maps

OUT OF SCOPE (Future Enhancement):
-----------------------------------
âŒ Internal routing calculation (polyline)
âŒ Turn-by-turn navigation internal
âŒ Traffic information internal
âŒ Alternative routes calculation

MINIMAL PBL APPROACH:
---------------------
âœ… Display markers on internal map (OSM)
âœ… Delegate navigation to Google Maps external
âœ… Simple, reliable, fast to implement
âœ… Total time: ~3 hours

================================================================================
