# Point Payment Integration - User Guide

## How to Use Points for Parking Payment

### Step 1: Start Booking Process

1. Navigate to a mall on the map
2. Tap "Book Parking"
3. Select your vehicle
4. Choose start time and duration
5. View the estimated parking cost

### Step 2: Enable Point Usage

1. Scroll down to the **"Gunakan Poin"** card
2. You'll see your available point balance (e.g., "500 poin tersedia")
3. Toggle the switch to **ON** to enable point usage

### Step 3: Select Points to Use

You have three ways to select the amount of points:

#### Option A: Use the Slider
- Drag the slider to select the desired amount
- The cost breakdown updates in real-time

#### Option B: Type the Amount
- Tap the input field
- Enter the number of points you want to use
- The system will automatically limit to the maximum usable amount

#### Option C: Use Maximum Points
- Tap the **"Maks"** button
- The system will automatically use the maximum possible points

### Step 4: Review Cost Breakdown

The card will show:
- **Biaya Parkir**: Original parking cost
- **Potongan Poin**: Amount reduced by points (in green)
- **Total Bayar**: Final amount you need to pay

### Step 5: Confirm Booking

1. Review the booking summary
2. The summary will show:
   - Original parking cost
   - Point reduction (if using points)
   - Final total to pay
3. Tap **"Konfirmasi Booking"**

### Step 6: Booking Confirmed

- Your booking is created
- Points are automatically deducted
- You'll see the confirmation screen with QR code
- Your point balance is updated

## Understanding Point Limits

### Maximum Usable Points

The system calculates the maximum points you can use based on:

1. **Your Available Balance**: Total points you have
2. **Parking Cost**: Total cost of the booking

**Formula**: Maximum = Minimum of (Available Points, Cost รท 10)

### Examples

#### Example 1: Insufficient Points
- **Available Points**: 50
- **Parking Cost**: Rp 10,000
- **Maximum Usable**: 50 points
- **Reduction**: Rp 500
- **Final Cost**: Rp 9,500
- **Remaining Points**: 0

*You use all your points but still need to pay the remaining cost.*

#### Example 2: Sufficient Points
- **Available Points**: 2,000
- **Parking Cost**: Rp 5,000
- **Maximum Usable**: 500 points
- **Reduction**: Rp 5,000
- **Final Cost**: Rp 0
- **Remaining Points**: 1,500

*You only use enough points to cover the full cost, saving the rest.*

#### Example 3: Partial Usage
- **Available Points**: 500
- **Parking Cost**: Rp 10,000
- **You Select**: 100 points
- **Reduction**: Rp 1,000
- **Final Cost**: Rp 9,000
- **Remaining Points**: 400

*You choose to use only some of your points.*

## Point Conversion Rate

**100 points = Rp 1,000**

This means:
- 10 points = Rp 100
- 50 points = Rp 500
- 100 points = Rp 1,000
- 500 points = Rp 5,000
- 1,000 points = Rp 10,000

## Tips for Using Points

### 1. Save Points for Expensive Bookings
If you're making a short, cheap booking, consider saving your points for longer, more expensive bookings to maximize value.

### 2. Check Your Balance First
Before booking, check your point balance on the Point Page to know how much you can save.

### 3. Use Partial Points
You don't have to use all your points. Use just enough to get a discount while keeping some for future bookings.

### 4. Combine with Other Payments
If your points don't cover the full cost, you can use points for a discount and pay the rest with your regular payment method.

## Troubleshooting

### "Points not deducted after booking"

**Solution**: 
- Check your internet connection
- The booking is still valid
- Contact support to manually apply the point deduction

### "Can't use all my points"

**Reason**: 
- The system limits points based on the parking cost
- You can only use enough points to cover the cost
- Remaining points are saved for future use

### "Point balance not updating"

**Solution**:
- Pull down to refresh on the Point Page
- Wait a few seconds for the sync
- Check your internet connection

### "Toggle switch is disabled"

**Reason**:
- You may have 0 points available
- The booking cost may be 0
- There may be a loading process in progress

## Frequently Asked Questions

### Q: Can I use points for all bookings?
**A**: Yes, you can use points for any parking booking as long as you have available points.

### Q: Do points expire?
**A**: Check the Point Page for information about point expiration policies.

### Q: Can I get a refund in points if I cancel?
**A**: Refund policies depend on the cancellation terms. Check with support.

### Q: What happens if I don't have enough points?
**A**: You can use all your available points for a partial discount and pay the remaining cost with another payment method.

### Q: Can I change the point amount after confirming?
**A**: No, once the booking is confirmed, the point deduction is final. Make sure to review before confirming.

### Q: How do I earn more points?
**A**: You earn points automatically with each completed parking transaction. Check the Point Page for details on earning rates.

## Need Help?

If you encounter any issues with point usage:
1. Check the Point Page for your current balance
2. Ensure you have a stable internet connection
3. Try refreshing the booking page
4. Contact customer support through the app

## Related Features

- **Point Page**: View your balance, history, and statistics
- **Point History**: Track all point transactions
- **Point Info**: Learn how to earn and use points
- **Activity Page**: View your booking history and point earnings

---

*For more information about the point system, visit the Point Page and tap "Cara Kerja Poin".*
